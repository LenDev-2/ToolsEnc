<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Loadingâ€¦</title>
<style>
html,body{
  margin:0;padding:0;width:100%;height:100%;
  background:#000;overflow:hidden;font-family:system-ui
}
.wrap{position:fixed;inset:0;display:flex;align-items:center;justify-content:center}
img{max-width:80vw;max-height:80vh;animation:blink .2s steps(1) infinite}
@keyframes blink{0%{opacity:1}50%{opacity:0}100%{opacity:1}}
.lock{position:fixed;inset:0;z-index:9}
.count{
  position:fixed;bottom:16px;right:16px;
  color:#fff;background:rgba(0,0,0,.6);
  padding:8px 12px;border-radius:8px;font-weight:700
}
</style>
</head>
<body>

<div class="wrap">
  <img src="https://picsum.photos/600/600" alt="troll">
</div>

<div class="lock"></div>
<div class="count" id="count">10</div>

<audio id="scream" loop muted autoplay>
  <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
</audio>

<script>
(() => {
  const audio = document.getElementById('scream');
  const counter = document.getElementById('count');
  let t = 10;

  const overlay = document.createElement('div');
  overlay.style.cssText =
    'position:fixed;inset:0;z-index:99;' +
    'background:rgba(0,0,0,.85);color:#0f0;' +
    'display:flex;align-items:center;justify-content:center;' +
    'font:700 18px monospace;text-align:center';
  overlay.innerHTML = 'SYSTEM ERROR<br>MEMORY CORRUPTED<br>DO NOT CLOSE';
  document.body.appendChild(overlay);

  window.onbeforeunload = e => {
    if (t > 0) {
      e.preventDefault();
      e.returnValue = '';
    }
  };

  const fs = () => {
    const el = document.documentElement;
    if (el.requestFullscreen) el.requestFullscreen().catch(()=>{});
  };

  const buzz = () => {
    if (navigator.vibrate) navigator.vibrate([200,100,200]);
  };

  // paksa jalan pas load
  window.addEventListener('load', () => {
    fs();
    buzz();

    audio.play().catch(()=>{});

    // unmute paksa setelah mulai
    setTimeout(() => {
      audio.muted = false;
    }, 500);

    const iv = setInterval(() => {
      t--;
      counter.textContent = t;
      buzz();

      if (t <= 0) {
        clearInterval(iv);
        window.onbeforeunload = null;
        audio.pause();
        overlay.remove();
        counter.textContent = 'OK';
        if (document.fullscreenElement) document.exitFullscreen();
      }
    }, 1000);
  });
})();
</script>
</body>
</html>
